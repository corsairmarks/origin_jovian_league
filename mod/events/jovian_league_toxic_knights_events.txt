namespace = origin_jovian_league_toxic_knights

# triggered by on_game_start_country (AI only)
# sets the custom origin to the built-in origin after setup
country_event = {
	id = origin_jovian_league_toxic_knights.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_origin = origin_jovian_league_toxic_knights
		is_ai = yes
	}
	immediate = {
		set_origin = origin_toxic_knights
		every_owned_planet = {
			limit = { any_owned_pop = { is_unemployed = yes } }
			every_owned_pop = {
				limit = { is_unemployed = yes }
				clear_pop_category = yes
			}
			check_planet_employment = yes
		}
	}
	after = {
		country_event = {
			id = toxoids.7000
		}
	}
}

# triggered by triggered by on_press_begin (non-AI only)
# sets the custom origin to the built-in origin after setup and the intro screen
country_event = {
	id = origin_jovian_league_toxic_knights.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_origin = origin_jovian_league_toxic_knights
		is_ai = no
	}
	immediate = {
		set_origin = origin_toxic_knights
		every_owned_planet = {
			limit = { any_owned_pop = { is_unemployed = yes } }
			every_owned_pop = {
				limit = { is_unemployed = yes }
				clear_pop_category = yes
			}
			check_planet_employment = yes
		}
	}
	after = {
		country_event = {
			id = toxoids.7000
		}
	}
}